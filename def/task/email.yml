name: Email

method_name:
  javascript: email

description: |
  Sends an email.

returns: |
  Returns the input.

rest_parameters:
  - property: '`to`'
    type: string
    description: The email address to send the message to.

  - property: '`subject`'
    type: string
    description: The subject of the email.

  - property: '`body_text`'
    type: string
    description: The plain text content of the email.

  - property: '`body_html`'
    type: string
    description: The HTML content of the email.

  - property: '`attachments`'
    type: array
    description: 'A list of files to send as attachments to the email. The files can listed either as an object in the form {"file": "<path>"} or as a string "<path>" where the path is the connection alias followed by the path of the file within that connection.'

json_str: |
  {
    "op": "email",
    "params": {
      "to": "flexio@mailinator.com",
      "subject": "Daily report",
      "body_text": "Attached, please find the latest figures",
      "body_html": "",
      "attachments": [
        {"file": "/my-connection-alias/file1.txt"},
        "/my-connection-alias/file2.txt"
      ]
    }
  }
